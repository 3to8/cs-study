<details>
<summary>Web Socket</summary>
<div>

#### 먼저 web socket이란?
- 두 프로그램 간의 메시지를 교환하기 위한 통신 방법중 하나

### 서버와 유저가 데이터를 주고 받으려면?
-> http 요청

<br>
주식 거래소 처럼 2초마다 가격을 업데이트 하는 일이 생긴다면? 계속 요청을 보내서 응답을 받는건 매우 비효율적
(이렇게 일정 주기로 통신하여 가져오는 방법을 Polling 이라한다.)
<br>
여기서 우리는 통상적으로 client가 요청을 보내는 경우에만 server가 응답하는 단방향 통신을 했었다.


### 해결책

1. Server-Sent Event
   1. http 통신을 종료안하고 계속 유지
   2. 단점으로는 서버만 일방적으로 메시지 보냄
2. Web Socket
   3. 양방향 통신 가능
   4. 실시간 네트워킹
   5. 연결 지향

### 양방향 통신 이란?
- 데이터 송수신을 동시에 처리할 수 있는 통신 방법
### 실시간 네트워킹 이란?
- 웹 환경에서 연속된 데이터를 빠르게 노출(채팅, 주식 등등)

#### 문제점
- 서버와 클라이언트 간의 socket 연결을 유지하는 것 자체가 비용이 많이든다.
- 오래된 버전의 웹 브라우저는 지원하지 않는다.

### WebSocket 동작 원리
- Client에서 연결요청을 보내고 서버가 요청에 응답을 한다 (응답 코드 101 성공)
- 여기까지가 Opening HandShake
- 다음 과정은 데이터를 전송할 수 있게된다. 이때 서로 살아있는지 확인하기 위해 heatbeat 패킷을 보내며 주기적 확인
- 이 과정을 Data transfer 이라한다.
- 모든 전송 과정이 끝나면 커넥션 종료를 위해 Client 또는 Server가 Closing handshake를 시작한다는 컨트롤 프레임 전송을 하게 되고, 응답으로 close 프레임을 전송하며 웹소켓이 종료됩니다.

</div>
</details>